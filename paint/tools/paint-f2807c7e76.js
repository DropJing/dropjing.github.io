"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(o){var n=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(o);return _possibleConstructorReturn(this,n?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Paint=function(){_inherits(o,Draw);var t=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=t.call(this)).canvas=document.getElementById("canvas"),e.context=e.canvas.getContext("2d"),e.canvasDraw=document.getElementById("canvas-draw"),e.contextDraw=e.canvasDraw.getContext("2d"),e.lineWidth=1,e.color="black",e.backColor="white",e.fillType="fillBorder",e.option=new Option,e}return _createClass(o,[{key:"bindEvent",value:function(){var n=this;this.canvasDraw.addEventListener("mousedown",function(e){var t=e.offsetX,e=e.offsetY;n.current.mousedown(t,e)}),this.canvasDraw.addEventListener("mouseup",function(e){var t=e.offsetX,e=e.offsetY;n.current.mouseup(t,e)}),this.canvasDraw.addEventListener("mousemove",function(e){var t=e.offsetX,e=e.offsetY;n.current.mousemove(t,e)}),this.canvasDraw.addEventListener("click",function(e){var t=e.offsetX,e=e.offsetY;n.current.click(t,e)}),window.addEventListener("keydown",function(e){e=e.key;n.current.keydown(e)}),e("#tool-option-canvas").addEventListener("click",function(e){var t=e.offsetX,e=e.offsetY;n.current.changeOption(t,e)}),e(".current-colors").addEventListener("click",function(t){var o=n.current.color;n.current.color=n.current.backColor,n.current.backColor=o,e(".front-color").style.backgroundColor=n.current.color,e(".backend-color").style.backgroundColor=n.current.backColor}),e(".color-button").addEventListener("click",function(e){e=e.target.dataset.color;n.current.changeColor(e)}),e(".tools").addEventListener("click",function(e){e=e.target.dataset.type;e&&n.changeTool(e)})}},{key:"click",value:function(){}},{key:"mousedown",value:function(){}},{key:"mousemove",value:function(){}},{key:"mouseup",value:function(){}},{key:"changeTool",value:function(e){var t=this.current.color,o=this.current.lineWidth,n={line:Line,brush:Brush,pencil:Pencil,curve:Curve,eraser:Eraser,spectroscope:Spectroscope,rectangular:Rectangular,polygon:Polygon,ellipse:Ellipse,roundedRectangle:RoundedRectangle,sprayBottle:SprayBottle,bucket:Bucket,text:MyText,cut:Cut,cutPolygon:CutPolygon,scale:Scale};this.current=new n[e],this.current.color=t,this.current.lineWidth=o,this.initTool(e)}},{key:"initTool",value:function(o){removeClassAll("selected"),toggleClass(e(".".concat(o)),"selected"),this.current.option.initOption(),ToolList.forEach(function(t){t.type===o&&(e(".canvas-area").style.cursor="url(".concat(t.cursor,") 16 16, crosshair"))})}},{key:"changeColor",value:function(t){this.color=t,e(".front-color").style.backgroundColor=t}},{key:"changeFillType",value:function(e){this.fillType=e}},{key:"changelineWidth",value:function(e){this.lineWidth=e}},{key:"keydown",value:function(e){}},{key:"clear",value:function(e){e.clearRect(0,0,this.canvas.width,this.canvas.height)}}]),o}();