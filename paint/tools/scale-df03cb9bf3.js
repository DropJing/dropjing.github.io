"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(r){var n=_isNativeReflectConstruct();return function(){var t,e=_getPrototypeOf(r);return _possibleConstructorReturn(this,n?(t=_getPrototypeOf(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Scale=function(){_inherits(n,Paint);var r=_createSuper(n);function n(){var t;return _classCallCheck(this,n),_defineProperty(_assertThisInitialized(t=r.call(this)),"setColorByPoint",function(t,e,r){var n=t.width,o=e[0],e=4*(e[1]*n+o),n=t.data;n[0+e]=r[0],n[1+e]=r[1],n[2+e]=r[2],n[3+e]=r[3]}),_defineProperty(_assertThisInitialized(t),"getColorByPoint",function(t,e){var r=t.width,n=e[0],e=4*(e[1]*r+n),r=t.data;return[r[0+e],r[1+e],r[2+e],r[3+e]]}),t.type="scale",t.scale=1,t.isScale=!1,t.normalWidth=t.canvas.width,t.normalHeight=t.canvas.height,t.imageData=t.context.getImageData(0,0,t.canvas.width,t.canvas.height),t.option=new ScaleSize(t.scale),t}return _createClass(n,[{key:"changeOption",value:function(t,e){this.option.selectedOption(t,e),this.scale=this.option.scale}},{key:"setCanvas",value:function(t){var r=this.normalWidth*t,t=this.normalHeight*t;this.canvas.width=r,this.canvasDraw.width=r,this.canvas.height=t,this.canvasDraw.height=t,e(".canvas-background").style.width=r,e(".canvas-background").style.height=t}},{key:"scaleCanvas",value:function(t){this.setCanvas(t);for(var e=this.normalWidth,r=this.normalHeight,n=this.imageData,o=new ImageData(e*t,r*t),i=0;i<e;i++)for(var a=0;a<r;a++)for(var s=[i,a],c=this.getColorByPoint(n,s),l=0;l<t;l++)for(var u=0;u<t;u++)this.setColorByPoint(o,[s[0]*t+l,s[1]*t+u],c);this.context.putImageData(o,0,0)}},{key:"click",value:function(t,e){var r;this.isScale?(log("缩小"),this.scaleCanvas(1)):(log("放大"),r=this.scale,this.scaleCanvas(r)),this.isScale=!this.isScale}}]),n}();