"use strict";function _construct(y,t,e){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(y,t,e){var x=[null];x.push.apply(x,t);t=new(Function.bind.apply(y,x));return e&&_setPrototypeOf(t,e.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}function _setPrototypeOf(y,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,t){return y.__proto__=t,y})(y,t)}function _classCallCheck(y,t){if(!(y instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(y,t){for(var e=0;e<t.length;e++){var x=t[e];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}function _createClass(y,t,e){return t&&_defineProperties(y.prototype,t),e&&_defineProperties(y,e),Object.defineProperty(y,"prototype",{writable:!1}),y}var fps=60,AnimationDirectionType={normal:"normal",alternate:"alternate"},AnimationKeyFrameType={"ease-in":[{x:0,y:0},{x:.016666666666666666,y:8.294742046643932e-7},{x:.03333333333333333,y:57560075296692044e-22},{x:.05,y:18478084254525128e-21},{x:.06666666666666667,y:4355207773045322e-20},{x:.08333333333333333,y:865041145247858e-19},{x:.1,y:.00015395446122340673},{x:.11666666666666667,y:.0002537555640341793},{x:.13333333333333333,y:.00039514490212440024},{x:.15,y:.0005889138235680491},{x:.16666666666666666,y:.0008475935090318387},{x:.18333333333333332,y:.0011856591418742824},{x:.2,y:.0016197532404470395},{x:.21666666666666667,y:.002168928912339112},{x:.23333333333333334,y:.0028764256439859537},{x:.25,y:.003762274322000536},{x:.26666666666666666,y:.004850820869657895},{x:.2833333333333333,y:.006230259098866498},{x:.3,y:.007914596207914428},{x:.31666666666666665,y:.01003424574936261},{x:.3333333333333333,y:.012640841649728429},{x:.35,y:.015871964168947556},{x:.36666666666666664,y:.0199019780010633},{x:.38333333333333336,y:.024946112614199763},{x:.4,y:.03126237426892274},{x:.4166666666666667,y:.03914964696018046},{x:.43333333333333335,y:.04914055332389125},{x:.45,y:.06165323497551512},{x:.4666666666666667,y:.0772524891859507},{x:.48333333333333334,y:.09639266255115317},{x:.5,y:.11934949933894302},{x:.5166666666666667,y:.14592735902060894},{x:.5333333333333333,y:.17551440190549797},{x:.55,y:.2073491359761573},{x:.5666666666666667,y:.24053130147124321},{x:.5833333333333334,y:.2743745329970095},{x:.6,y:.308379399533285},{x:.6166666666666667,y:.3422236958258506},{x:.6333333333333333,y:.37569838316638154},{x:.65,y:.40870336902708515},{x:.6666666666666666,y:.44119087013682773},{x:.6833333333333333,y:.4731357596485932},{x:.7,y:.5045196147568065},{x:.7166666666666667,y:.5353988379190845},{x:.7333333333333333,y:.5657575967015401},{x:.75,y:.5956460980561608},{x:.7666666666666667,y:.6250478305263902},{x:.7833333333333333,y:.6540396740062835},{x:.8,y:.6826207847447182},{x:.8166666666666667,y:.7107776364943282},{x:.8333333333333334,y:.7385746255164278},{x:.85,y:.7660264068279363},{x:.8666666666666667,y:.7931478792962281},{x:.8833333333333333,y:.8199540364681096},{x:.9,y:.8464598432084063},{x:.9166666666666666,y:.8726801346608624},{x:.9333333333333333,y:.8986295344218413},{x:.95,y:.9243223891729518},{x:.9666666666666667,y:.949772717348177},{x:.9833333333333333,y:1}],"ease-out":[{x:0,y:0},{x:.016666666666666666,y:.02500583028769199},{x:.03333333333333333,y:.05022728265182352},{x:.05,y:.07567761082704834},{x:.06666666666666667,y:.10137046557815836},{x:.08333333333333333,y:.12731986533913728},{x:.1,y:.1535401567915936},{x:.11666666666666667,y:.1800459635318906},{x:.13333333333333333,y:.20685212070377232},{x:.15,y:.2339735931720638},{x:.16666666666666666,y:.26142537448357245},{x:.18333333333333332,y:.28922236350567204},{x:.2,y:.3173792152552818},{x:.21666666666666667,y:.3459603259937164},{x:.23333333333333334,y:.37495216947361},{x:.25,y:.40435390194383913},{x:.26666666666666666,y:.4342424032984596},{x:.2833333333333333,y:.4646011620809156},{x:.3,y:.49548038524319354},{x:.31666666666666665,y:.5268642403514064},{x:.3333333333333333,y:.5588091298631719},{x:.35,y:.5912966309729148},{x:.36666666666666664,y:.6243016168336182},{x:.38333333333333336,y:.6577763041741495},{x:.4,y:.6916206004667148},{x:.4166666666666667,y:.7256254670029905},{x:.43333333333333335,y:.7594686985287566},{x:.45,y:.7926508640238427},{x:.4666666666666667,y:.8244855980945017},{x:.48333333333333334,y:.8540726409793912},{x:.5,y:.880650500661057},{x:.5166666666666667,y:.903607337448847},{x:.5333333333333333,y:.9227475108140493},{x:.55,y:.938346765024485},{x:.5666666666666667,y:.9508594466761086},{x:.5833333333333334,y:.9608503530398197},{x:.6,y:.9687376257310772},{x:.6166666666666667,y:.9750538873858003},{x:.6333333333333333,y:.9800980219989367},{x:.65,y:.9841280358310525},{x:.6666666666666666,y:.9873591583502715},{x:.6833333333333333,y:.9899657542506374},{x:.7,y:.9920854037920855},{x:.7166666666666667,y:.9937697409011337},{x:.7333333333333333,y:.9951491791303421},{x:.75,y:.9962377256779995},{x:.7666666666666667,y:.9971235743560141},{x:.7833333333333333,y:.9978310710876609},{x:.8,y:.998380246759553},{x:.8166666666666667,y:.9988143408581256},{x:.8333333333333334,y:.9991524064909681},{x:.85,y:.9994110861764319},{x:.8666666666666667,y:.9996048550978756},{x:.8833333333333333,y:.9997462444359659},{x:.9,y:.9998460455387765},{x:.9166666666666666,y:.9999134958854752},{x:.9333333333333333,y:.9999564479222696},{x:.95,y:.9999815219157455},{x:.9666666666666667,y:.9999942439924703},{x:.9833333333333333,y:1}],"ease-in-out":[{x:0,y:0},{x:.016666666666666666,y:.0008218164892515744},{x:.03333333333333333,y:.0030289683646353184},{x:.05,y:.0067186701507071685},{x:.06666666666666667,y:.011846890941456537},{x:.08333333333333333,y:.01828604452582951},{x:.1,y:.02618701242909168},{x:.11666666666666667,y:.035344116714240384},{x:.13333333333333333,y:.04575677438171169},{x:.15,y:.0574727737680314},{x:.16666666666666666,y:.07032653560298868},{x:.18333333333333332,y:.0843400980771969},{x:.2,y:.09949247689224365},{x:.21666666666666667,y:.11565813128937891},{x:.23333333333333334,y:.1328472103893327},{x:.25,y:.15101909483062015},{x:.26666666666666666,y:.17006289688742782},{x:.2833333333333333,y:.18996488889337726},{x:.3,y:.21069349237047008},{x:.31666666666666665,y:.23213765431472255},{x:.3333333333333333,y:.2542571386961188},{x:.35,y:.27703953329736},{x:.36666666666666664,y:.30036846274405804},{x:.38333333333333336,y:.32419045867936047},{x:.4,y:.3484825873189479},{x:.4166666666666667,y:.3731502877356722},{x:.43333333333333335,y:.39812934263403915},{x:.45,y:.4233710075724196},{x:.4666666666666667,y:.44880944325401273},{x:.48333333333333334,y:.4743718228776737},{x:.5,y:.5},{x:.5166666666666667,y:.5256281771223265},{x:.5333333333333333,y:.5511905567459869},{x:.55,y:.5766289924275803},{x:.5666666666666667,y:.6018706573659608},{x:.5833333333333334,y:.626849712264328},{x:.6,y:.651517412681052},{x:.6166666666666667,y:.67580954132064},{x:.6333333333333333,y:.6996315372559416},{x:.65,y:.7229604667026399},{x:.6666666666666666,y:.7457428613038809},{x:.6833333333333333,y:.767862345685277},{x:.7,y:.78930650762953},{x:.7166666666666667,y:.8100351111066229},{x:.7333333333333333,y:.8299371031125719},{x:.75,y:.84898090516938},{x:.7666666666666667,y:.8671527896106679},{x:.7833333333333333,y:.8843418687106208},{x:.8,y:.9005075231077566},{x:.8166666666666667,y:.9156599019228033},{x:.8333333333333334,y:.9296734643970113},{x:.85,y:.9425272262319685},{x:.8666666666666667,y:.9542432256182886},{x:.8833333333333333,y:.9646558832857595},{x:.9,y:.9738129875709083},{x:.9166666666666666,y:.9817139554741705},{x:.9333333333333333,y:.9881531090585434},{x:.95,y:.9932813298492928},{x:.9666666666666667,y:.9969710316353647},{x:.9833333333333333,y:1}]},Animation=function(){function a(y){_classCallCheck(this,a);var t=y.target,e=y.property,x=y.distance,r=(y.keyframeType,y.keyframe),n=y.duration,i=y.direction,i=void 0===i?AnimationDirectionType.normal:i,o=y.previous,o=void 0===o?null:o,y=y.delay,y=void 0===y?0:y;this.target=t,this.property=e,this.keyframe=r,this.duration=n,this.propertyStart=t[e],this.distance=x,this.frameIndex=0,this.isEnd=!1,this.direction=i,this.delay=y,this.delayCount=0,(this.previous=o)&&(o.next=this)}return _createClass(a,[{key:"interpolateFrame",value:function(y){for(var t,e,x=y/(this.duration*fps),r=this.keyframe,n=0;n<r.length&&!(r[n].x>=x);)n+=1;return 0===n?r[0]:n>=r.length-1?r[r.length-1]:(y=r[n-1],t=r[n],e=(x-y.x)/(t.x-y.x),interpolationPoint(y,t,e))}},{key:"update",value:function(){var y,t,e,x,r,n,i,o;this.delayCount<this.delay*fps?this.delayCount+=1:(o=(y=this).duration*fps,y.frameIndex>=o-1?((t=this.next)&&(t.propertyStart=t.target[t.property]),y.isEnd=!0):(t=y.target,e=y.property,x=y.distance,y.keyframe,r=y.frameIndex,n=y.propertyStart,this.direction===AnimationDirectionType.alternate?r<o/2?(i=this.interpolateFrame(2*r),t[e]=n+i.y*x):(i=this.interpolateFrame(2*(o-1-r)),t[e]=n+i.y*x):this.direction===AnimationDirectionType.normal?(o=this.interpolateFrame(r),t[e]=n+o.y*x):log("暂不支持的动画播放类型"),y.frameIndex+=1))}}],[{key:"new",value:function(){for(var y=arguments.length,t=new Array(y),e=0;e<y;e++)t[e]=arguments[e];return _construct(this,t)}}]),a}();